# P2948 [USACO09OPEN] Ski Lessons G

## 题目描述

农夫约翰想带贝西去科罗拉多滑雪。不幸的是，贝西滑雪技术并不是很好。

贝西了解到滑雪场全天提供 $S (0 \le S \le 100)$ 节滑雪课。第 $i$ 节课从时间 $M\_i (1 \le M\_i \le 10,000)$ 开始，持续时间为 $L_i (1 \le L_i \le 10,000)$。在第 i 节课后，贝西的滑雪能力变为 $A_i (1 \le A_i \le 100)$。注意：这种能力是绝对值变化，而不是增量变化。

贝西购买了一张地图，上面显示了所有 $N (1 \le N \le 10,000)$ 条滑雪道，以及滑下第 i 条滑雪道所需的时间 $D_i (1 \le D_i \le 10,000)$ 和安全滑下该滑雪道所需的技能水平 $C_i (1 \le C_i \le 100)$。贝西的技能水平必须大于或等于滑雪道的技能水平，才能安全滑下。

贝西可以把时间花在滑雪、上课或喝热可可上，但必须在时间 $T (1 \le T \le 10,000)$ 前离开滑雪场，这意味着她必须在不超过该时间限制的情况下完成她最后一条滑雪道的滑行。

找出贝西在时间限制内可以完成的最大滑雪次数。她一天开始时的技能水平为 $1$。

## 输入格式

- 第 $1$ 行：三个用空格分隔的整数：$T$、$S$ 和 $N$。

- 第 $2$ 行到第 $S+1$ 行：第 $i+1$ 行描述第 $i$ 节滑雪课，包含三个用空格分隔的整数：$M_i、L_i 和 A_i$。

- 第 $S+2$ 行到第 $S+N+1$ 行：第 $S+i+1$ 行描述第 $i$ 条滑雪道，包含两个用空格分隔的整数：$C_i$ 和 $D_i$。

## 输出格式

单独一行上的一个整数，表示贝西在时间限制内可以滑的最大次数。

## 输入输出样例 #1

### 输入 #1

```
10 1 2 
3 2 5 
4 1 
1 3
```

### 输出 #1

```
6
```

## 说明/提示

滑第二条滑雪道一次，上课，然后在时间用完前滑第一条滑雪道 $5$ 次：总共 $6$ 条滑雪道。
（由 ChatGPT 4o 翻译）