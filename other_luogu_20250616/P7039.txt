# P7039 [NWRRC 2016] Integral Polygons

## 题目描述

Ingrid 在一个遥远的国家经营着一家多边形商店。她只出售具有整数坐标的凸多边形。她的顾客更喜欢可以以适当方式切割成两半的多边形，即切割应是直线，起点和终点在多边形的顶点上，并且两半都不为空且面积为整数。切割多边形的适当方式越多，多边形就越昂贵。

例如，左边的多边形有三种适当的切割方式，而右边的多边形有两种。

![](https://cdn.luogu.com.cn/upload/image_hosting/fei0xc33.png)

商店里的多边形质量总是很优秀，所以业务正在扩展。现在 Ingrid 需要一些自动化工具来确定适当切割多边形的方式数量。这对她的商店非常重要，否则你将花费大量时间来设定价格——想象一下为一辆中型货车的多边形设定价格需要多少时间。你能帮助 Ingrid 编写这个工具吗？

## 输入格式

输入的第一行包含一个整数 $n$ —— 多边形顶点的数量 $(4 \le n \le 200 000)$。接下来的 $n$ 行中的每一行包含顶点坐标：每行一对整数 $x_{i}$ 和 $y_{i}$ $(-10^{9} \le x_{i}, y_{i} \le 10^{9})$。指定的多边形是凸的，其顶点按遍历顺序指定。

## 输出格式

输出一个整数 $w$ —— 以适当方式切割多边形的方式数量。

## 输入输出样例 #1

### 输入 #1

```
5
7 3
3 5
1 4
2 1
5 0
```

### 输出 #1

```
3
```

## 输入输出样例 #2

### 输入 #2

```
4
1 1
3 1
5 5
1 3
```

### 输出 #2

```
2
```

## 说明/提示

时间限制：2 秒，内存限制：256 MB。

题面翻译由 ChatGPT-4o 提供。