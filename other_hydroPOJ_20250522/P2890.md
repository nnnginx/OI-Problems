<h2>Description</h2><p>Many studies have been done on developing efficient algorithms to calculate matrix multiplication. But it remains as a hard topic today. In this problem you are to calculate the 2006th power of a square Boolean matrix where addition and multiplication are defined as follows:</p><div align="center"><table border="0"><tbody><tr><td><div align="center"><table border="1" width="170"><tbody><tr><td align="center" width="30%"><i>A</i></td><td align="center" width="30%"><i>B</i></td><td align="center" width="40%"><i>A</i> + <i>B</i></td></tr><tr><td align="center" width="30%">0</td><td align="center" width="30%">0</td><td align="center" width="40%">0</td></tr><tr><td align="center" width="30%">0</td><td align="center" width="30%">1</td><td align="center" width="40%">1</td></tr><tr><td align="center" width="30%">1</td><td align="center" width="30%">0</td><td align="center" width="40%">1</td></tr><tr><td align="center" width="30%">1</td><td align="center" width="30%">1</td><td align="center" width="40%">1</td></tr></tbody></table><p align="center"><b>Truth Table of Addition</b></p></div></td><td width="20"></td><td><div align="center"><table border="1" width="170"><tbody><tr><td align="center" width="30%"><i>A</i></td><td align="center" width="30%"><i>B</i></td><td align="center" width="40%"><i>AB</i></td></tr><tr><td align="center" width="30%">0</td><td align="center" width="30%">0</td><td align="center" width="40%">0</td></tr><tr><td align="center" width="30%">0</td><td align="center" width="30%">1</td><td align="center" width="40%">0</td></tr><tr><td align="center" width="30%">1</td><td align="center" width="30%">0</td><td align="center" width="40%">0</td></tr><tr><td align="center" width="30%">1</td><td align="center" width="30%">1</td><td align="center" width="40%">1</td></tr></tbody></table><p align="center"><b>Truth Table of Multiplication</b></p></div></td></tr></tbody></table></div><p>Let <i>A</i> be a square matrix. The zeroth power of <i>A</i> is the identity matrix. The <i>n</i>-th (<i>n</i> &gt; 0) power of <i>A</i> is the product of <i>A</i> and its (<i>n</i> <span lang="en-us">−</span> 1)-th power.</p><h2>Input</h2><p>The input contains multiple test cases. Each test cases consists of some lines:</p><ul><li>Line 1: Contains two integers <i>K</i> (<i>K</i> &lt; 1000) and <i>M</i> (0 <span lang="en-us">≤ <i>M</i> ≤ 10<i>K</i>), indicating the dimension of the matrix is <i>K</i> × <i>K</i> and <i>K</i> + <i>M</i> elements of the matrix are 1’s.</span></li><li>Lines 2 ~ <i>M</i> + 1: Each contains two integers <i>i</i> and <i>j</i> (0 ≤ <i>i</i>, <i>j</i> &lt; <i>K</i>, <i>i</i> ≠ <i>j</i>), indicating the element in the (<i>i</i> + 1)-th row and (<i>j</i> + 1)-th column is 1.</li></ul><p>All elements on the primary diagonal of the matrix are 1’s.</p><h2>Output</h2><p>For each test case output one line containing the number of elements that are 1<span lang="en-us">’</span>s in the 2006th power of the given matrix.</p><pre><code class="language-input1">3 4
1 2
2 1
0 1
0 2</code></pre><pre><code class="language-output1">7</code></pre><h2>Source</h2><a href="searchproblem?field=source&amp;key=POJ+Monthly--2006.07.30">POJ Monthly--2006.07.30</a><p>, Static</p>