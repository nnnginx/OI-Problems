<h2>Description</h2><span lang="en-us"><p>Starting with <i>x</i> and repeatedly multiplying by <i>x</i>, we can compute <i>x</i><sup>31</sup> with thirty multiplications:</p><blockquote><p><i>x</i><sup>2</sup> = <i>x</i> × <i>x</i>, <i>x</i><sup>3</sup> = <i>x</i><sup>2</sup> × <i>x</i>, <i>x</i><sup>4</sup> = <i>x</i><sup>3</sup> × <i>x</i>, …, <i>x</i><sup>31</sup> = <i>x</i><sup>30</sup> × <i>x</i>.</p></blockquote><p>The operation of squaring can be appreciably shorten the sequence of multiplications. The following is a way to compute <i>x</i><sup>31</sup> with eight multiplications:</p><blockquote><p><i>x</i><sup>2</sup> = <i>x</i> × <i>x</i>, <i>x</i><sup>3</sup> = <i>x</i><sup>2</sup> × <i>x</i>, <i>x</i><sup>6</sup> = <i>x</i><sup>3</sup> × <i>x</i><sup>3</sup>, <i>x</i><sup>7</sup> = <i>x</i><sup>6</sup> × <i>x</i>, <i>x</i><sup>14</sup> = <i>x</i><sup>7</sup> × <i>x</i><sup>7</sup>, <i>x</i><sup>15</sup> = <i>x</i><sup>14</sup> × <i>x</i>, <i>x</i><sup>30</sup> = <i>x</i><sup>15</sup> × <i>x</i><sup>15</sup>, <i>x</i><sup>31</sup> = <i>x</i><sup>30</sup> × <i>x</i>.</p></blockquote><p>This is not the shortest sequence of multiplications to compute <i>x</i><sup>31</sup>. There are many ways with only seven multiplications. The following is one of them:</p><blockquote><p><i>x</i><sup>2</sup> = <i>x</i> × <i>x, x</i><sup>4</sup> = <i>x</i><sup>2</sup> × <i>x</i><sup>2</sup>, <i>x</i><sup>8</sup> = <i>x</i><sup>4</sup> × <i>x</i><sup>4</sup>, <i>x</i><sup>8</sup> = <i>x</i><sup>4</sup> × <i>x</i><sup>4</sup>, <i>x</i><sup>10</sup> = <i>x</i><sup>8</sup> × <i>x</i><sup>2</sup>, <i>x</i><sup>20</sup> = <i>x</i><sup>10</sup> × <i>x</i><sup>10</sup>, <i>x</i><sup>30</sup> = <i>x</i><sup>20</sup> × <i>x</i><sup>10</sup>, <i>x</i><sup>31</sup> = <i>x</i><sup>30</sup> × <i>x</i>.</p></blockquote><p>If division is also available, we can find a even shorter sequence of operations. It is possible to compute <i>x</i><sup>31</sup> with six operations (five multiplications and one division):</p><blockquote><p><i>x</i><sup>2</sup> = <i>x</i> × <i>x</i>, <i>x</i><sup>4</sup> = <i>x</i><sup>2</sup> × <i>x</i><sup>2</sup>, <i>x</i><sup>8</sup> = <i>x</i><sup>4</sup> × <i>x</i><sup>4</sup>, <i>x</i><sup>16</sup> = <i>x</i><sup>8</sup> × <i>x</i><sup>8</sup>, <i>x</i><sup>32</sup> = <i>x</i><sup>16</sup> × <i>x</i><sup>16</sup>, <i>x</i><sup>31</sup> = <i>x</i><sup>32</sup> ÷ <i>x</i>.</p></blockquote><p>This is one of the most efficient ways to compute <i>x</i><sup>31</sup> if a division is as fast as a multiplication.</p><p>Your mission is to write a program to find the least number of operations to compute <i>x<sup>n</sup></i> by multiplication and division starting with <i>x</i> for the given positive integer <i>n</i>. Products and quotients appearing in the sequence should be <i>x</i> to a positive integer’s power. In others words, <i>x</i><sup>−3</sup>, for example, should never appear.</p></span><h2>Input</h2><p>The input is a sequence of one or more lines each containing a single integer <i>n</i>. <i>n</i> is positive and less than or equal to 1000. The end of the input is indicated by a zero.</p><h2>Output</h2><p>Your program should print the least total number of multiplications and divisions required to compute <i>x<sup>n</sup></i> starting with <i>x</i> for the integer <i>n</i>. The numbers should be written each in a separate line without any superfluous characters such as leading or trailing spaces.</p><pre><code class="language-input1">1
31
70
91
473
512
811
953
0</code></pre><pre><code class="language-output1">0
6
8
9
11
9
13
12</code></pre><h2>Source</h2><a href="searchproblem?field=source&amp;key=Japan+2006">Japan 2006</a>