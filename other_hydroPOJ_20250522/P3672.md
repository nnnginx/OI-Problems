<h2>Description</h2><div><p>Bessie is training for her next race by running on a path that includes hills so that she will be prepared for any terrain. She has planned a straight path and wants to run as far as she can -- but she must be back to the farm within <i>M</i> seconds (1 ¡Ü <i>M</i> ¡Ü 10,000,000).</p><p>The entire path she has chosen is<i> T</i> units (1 ¡Ü <i>T </i>¡Ü 100,000) in length and consists of equal-length portions that are uphill, flat, or downhill. The input data describes path segment i with a single character <i>Si </i>that is <i>u</i>, <i>f</i>, or <i>d</i>, indicating respectively uphill, flat, or downhill.</p><p>Bessie takes<i> U</i> seconds (1 ¡Ü <i>U </i>¡Ü 100) to run one unit of uphill path, <i>F</i> (1 ¡Ü<i> F</i> ¡Ü 100) seconds for a unit of flat path, and <i>D </i>(1 ¡Ü <i>D</i> ¡Ü 100) seconds for a unit of downhill path. Note that, when returning home, uphill paths become downhill paths and downhill paths become uphill paths.</p><p>Find the farthest distance Bessie can get from the farm and still make it back in time.</p></div><h2>Input</h2><p>* Line 1: Five space-separated integers: <i>M</i>, <i>T,</i> <i>U</i>, <i>F</i>, and <i>D</i><br>* Lines 2..<i>T</i>+1: Line <i>i</i>+1 describes path segment <i>i</i> with a single letter: <i>S<sub>i</sub></i></p><h2>Output</h2><p>* Line 1: A single integer that is the farthest distance (number of units) that Bessie can get from the farm and make it back in time.</p><pre><code class="language-input1">13 5 3 2 1
u
f
u
d
f
</code></pre><pre><code class="language-output1">3
</code></pre><h2>Source</h2><a href="searchproblem?field=source&amp;key=USACO+2008+February+Bronze">USACO 2008 February Bronze</a>