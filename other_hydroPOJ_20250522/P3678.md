<h2>Description</h2><div><p>Katu Puzzle is presented as a directed graph <i>G</i>(<i>V</i>, <i>E</i>) with each edge <i>e</i>(<i>a</i>,<i> b</i>) labeled by a boolean operator <i>op</i> (one of AND, OR, XOR) and an integer <i>c</i> (0 ¡Ü <i>c</i> ¡Ü 1). One Katu is solvable if one can find each vertex <i>V<sub>i</sub></i> a value <i>X<sub>i</sub></i> (0 ¡Ü <i>X<sub>i </sub></i>¡Ü 1) such that for each edge <i>e</i>(<i>a</i>,<i> b</i>) labeled by <i>op</i> and <i>c</i>, the following formula holds:</p><p>&nbsp;<i>X<sub>a</sub></i> <i>op</i> <i>X<sub>b</sub></i> = <i>c</i></p><p>The calculating rules are:</p><table border="1" width="42%" id="table1"><tbody><tr><td width="112"><table border="1" width="100%" id="table2"><tbody><tr><td width="28">AND</td><td width="32">0</td><td>1</td></tr><tr><td width="28">0</td><td width="32">0</td><td>0</td></tr><tr><td width="28">1</td><td width="32">0</td><td>1</td></tr></tbody></table></td><td width="106"><table border="1" width="100%" id="table3"><tbody><tr><td width="26">OR</td><td width="30">0</td><td>1</td></tr><tr><td width="26">0</td><td width="30">0</td><td>1</td></tr><tr><td width="26">1</td><td width="30">1</td><td>1</td></tr></tbody></table></td><td><table border="1" width="100%" id="table4"><tbody><tr><td width="38">XOR</td><td>0</td><td>1</td></tr><tr><td width="38">0</td><td>0</td><td>1</td></tr><tr><td width="38">1</td><td>1</td><td>0</td></tr></tbody></table></td></tr></tbody></table><p>Given a Katu Puzzle, your task is to determine whether it is solvable.</p></div><h2>Input</h2><p>The first line contains two integers <i>N</i> (1 ¡Ü <i>N</i> ¡Ü 1000) and <i>M</i>,(0 ¡Ü <i>M</i> ¡Ü 1,000,000) indicating the number of vertices and edges.<br>The following <i>M</i> lines contain three integers <i>a </i>(0 ¡Ü <i>a</i> &lt; <i>N</i>), <i>b</i>(0 ¡Ü <i>b</i> &lt; <i>N</i>), <i>c</i> and an operator <i>op</i> each, describing the edges. </p><h2>Output</h2><p>Output a line containing "YES" or "NO".</p><pre><code class="language-input1">4 4
0 1 1 AND
1 2 1 OR
3 2 0 AND
3 0 0 XOR</code></pre><pre><code class="language-output1">YES</code></pre><h2>Hint</h2><i>X</i><sub>0</sub><p> = 1, </p><i>X</i><sub>1</sub><p> = 1, </p><i>X</i><sub>2</sub><p> = 0, </p><i>X</i><sub>3</sub><p> = 1.</p><h2>Source</h2><a href="searchproblem?field=source&amp;key=POJ+Founder+Monthly+Contest+%E2%80%93+2008.07.27">POJ Founder Monthly Contest ¨C 2008.07.27</a><p>, Dagger</p>