<h2>Description</h2><span lang="en-us"><p>The Eight Puzzle, among other sliding-tile puzzles, is one of the famous problems in artificial intelligence. Along with chess, tic-tac-toe and backgammon, it has been used to study search algorithms.</p><p>The Eight Puzzle can be generalized into an <i>M</i> × <i>N</i> Puzzle where at least one of <i>M</i> and <i>N</i> is odd. The puzzle is constructed with <i>MN</i> − 1 sliding tiles with each a number from 1 to <i>MN</i> − 1 on it packed into a <i>M</i> by <i>N</i> frame with one tile missing. For example, with <i>M</i> = 4 and <i>N</i> = 3, a puzzle may look like:</p><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">6</td><td align="center" width="33%">2</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">0</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div><p>Let's call missing tile 0. The only legal operation is to exchange 0 and the tile with which it shares an edge. The goal of the puzzle is to find a sequence of legal operations that makes it look like:</p><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">5</td><td align="center" width="33%">6</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">8</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">11</td><td align="center" width="33%">0</td></tr></tbody></table></div><p>The following steps solve the puzzle given above.</p><div align="center"><table border="0" width="600"><tbody><tr><td align="center"><p align="center">START</p></td><td width="15%" align="center"><div align="center"><table border="1" id="table1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">6</td><td align="center" width="33%">2</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">0</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center"><p align="center">DOWN<br>⇒</p></td><td width="15%" align="center"><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">0</td><td align="center" width="33%">2</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">6</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center">LEFT<br>⇒</td><td width="15%" align="center"><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">0</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">6</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center"><p align="center">UP<br>⇒</p></td><td width="15%" align="center"><div align="center"><table border="1" id="table5"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">6</td><td align="center" width="33%">0</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center"><p align="center"><span lang="en-us">…</span></p></td></tr><tr><td height="20" align="center" colspan="9"></td></tr><tr><td align="center"><p align="center">RIGHT<br>⇒</p></td><td width="15%" align="center"><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">0</td><td align="center" width="33%">6</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">5</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center"><p align="center">UP<br>⇒</p></td><td width="15%" align="center"><div align="center"><table border="1" id="table7"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">5</td><td align="center" width="33%">6</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">0</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">8</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center">UP<br>⇒</td><td width="15%" align="center"><div align="center"><table border="1"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">5</td><td align="center" width="33%">6</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">8</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">0</td><td align="center" width="33%">11</td></tr></tbody></table></div></td><td align="center"><p align="center">LEFT<br>⇒</p></td><td width="15%" align="center"><div align="center"><table border="1" id="table2"><tbody><tr><td align="center" width="33%">1</td><td align="center" width="33%">2</td><td align="center" width="33%">3</td></tr><tr><td align="center" width="33%">4</td><td align="center" width="33%">5</td><td align="center" width="33%">6</td></tr><tr><td align="center" width="33%">7</td><td align="center" width="33%">8</td><td align="center" width="33%">9</td></tr><tr><td align="center" width="33%">10</td><td align="center" width="33%">11</td><td align="center" width="33%">0</td></tr></tbody></table></div></td><td align="center"><p align="center">GOAL</p></td></tr></tbody></table></div><p>Given an <i>M</i> × <i>N</i> puzzle, you are to determine whether it can be solved.</p></span><h2>Input</h2><p>The input consists of multiple test cases. Each test case starts with a line containing <i>M</i> and <i>N</i> (2 <span lang="en-us">≤ <i>M</i>, <i>N</i> ≤ 999). This line is followed by <i>M</i> lines containing <i>N</i> numbers each describing an <i>M</i> ×</span> <i>N</i> puzzle.</p><p>The input ends with a pair of zeroes which should not be processed.</p><h2>Output</h2><p>Output one line for each test case containing a single word <tt>YES</tt> if the puzzle can be solved and <tt>NO</tt> otherwise.</p><pre><code class="language-input1">3 3
1 0 3
4 2 5
7 8 6
4 3
1 2 5
4 6 9
11 8 10
3 7 0
0 0</code></pre><pre><code class="language-output1">YES
NO</code></pre><h2>Source</h2><a href="searchproblem?field=source&amp;key=POJ+Monthly--2006.07.30">POJ Monthly--2006.07.30</a><p>, newton88518</p>