<h2>Description</h2>
瓦楞机沉迷于一种游戏叫“TIDY学游泳”。 但他认为它太容易了。 于是，他开发了一种新的称为“瓦楞机学习游泳”的游戏。这是更困难，更有趣的游戏。<br />
在新的游戏中，一个机器人名为“瓦楞机”，在游泳池游泳。 池可以被视为一个垂直的N * M个网格。 的左上角的单元格的坐标是（1&#44;1），右下角的单元格的坐标为（M，N）。 在最上面中的单元格被称为“表面单元格”，并且所有其他的单元格被称为“水下单元格”。<br />
瓦楞机开始游泳，从左上角的单元格（1&#44;1）开始，并且必须到达右上角的单元（1，M）。 他有一个恒定的水平速度每秒1格，一个垂直速度每秒v单元格。 v总是整数并且是可以改变的。 如果v是正的，这意味着瓦楞机向下移动;如果v是负的，这意味着瓦楞机向上移动。 所以，如果瓦楞机现在是在单元格（x，y），他将在后一秒钟到达单元格（X + V，y +1）。 请注意，如果X + V&gt; N，瓦楞机会到达单元格（N，Y +1），因为他不能向下移动了，当然如果X + V &lt;1，瓦楞机将到达单元格（1，Y +1）因为他不能飞翔。 请记住，所有在最右边一栏的“水下单元格”是有毒的。如果瓦楞机进入这些单元格，他会死。<br />
瓦楞机的氧气瓶的容量是有限的，但每当瓦楞机进入表面单元格时，氧气瓶自动补充。 瓦楞机填满他的氧气瓶后，能在水下待K-1秒的时间。也就是说瓦楞机不能连续在水下待K秒。<br />
在每一个单元格，都存在“变速机”或“储钱罐”（两者不能同时存在）。 每个变速机有一个T值，每一个钱箱有一个P值。.<br />
瓦楞机有足够数量的设备称为“SPEEDO”。你可以在任何单元格中使用一个SPEEDO，使v加Q，Q为-1或1。<br />
瓦楞机达到一个单元格时，变速机在该单元格中的值T（如果有的话）会改变他的垂直速度v。例如，如果瓦楞机的垂直速度为v，当他到达在一个单元格中的速度变化值T和SPEEDO的Q值机，他的垂直速度v将立即变为V + T + Q。&nbsp;<br />
有三个你需要知道的事情：<br />
①所有的表面单元格中的变速机不能正常工作。<br />
②当到达某表面单元格时，在使用SPEEDO之前，瓦楞机的垂直的速度变为零，使用SPEEDO之后，瓦楞机的垂直速度立即成为Q，Q为1或-1。<br />
③当瓦楞机到达底部单元格时，虽然不下去了，但他的垂直速度不会改变，除非用SPEEDO或有变速机在该单元格中。这也许听起来有点怪异，但瓦楞机游戏真的是这样一个奇怪的东西。<br />
当到达一个储蓄罐，单元格的值为P，瓦楞机得到P美元（如果P为负，和瓦楞机失去P美元）。瓦楞机的总金额可以是负的――这意味着瓦楞机欠了池的主人一些钱。<br />
你的任务是安排一个巧妙的方法，使得瓦楞机可以得到尽可能多的钱。瓦楞机的初始垂直速度是零。&nbsp;<br />
<div>
	<br />
</div>
<h2>Input Format</h2>
多个测试用例，行“0 0 0”结束。不会超过20个测试数据。对于每个测试案例：<br />
第一行包含三个整数N，M和K（1 &lt;= N &lt;= 100，1 &lt;= M &lt;= 1000，1 &lt;= K &lt;= 10），N、M表示池的大小，K表示瓦楞机的氧气瓶可以撑K秒。<br />
接下来是N行从上到下依次描述单元格。每行包含M个元素，由空格分隔，描述的是一排的单元格，由左到右的顺序。有只有2种元素：<br />
①一个字符“v”和一个整数T，表示对应的单元格中“变速机”的值T（-20 &lt;= T &lt;= 20）。<br />
②一个字符“$”后跟一个整数P，这意味着有一个“储钱罐”对应的单元格中的值P（-1000000 &lt;= P &lt;= 1000000）。<br />
<div>
	<br />
</div>
<h2>Output Format</h2>
对于每个测试用例，输出一行，包含一个整数，表示当瓦楞机到达单元格（1，M）时，得到的最大的钱。
<pre><code class="language-input1">
5 10 3
$81 $47 $3 $0 $82 $31 $89 v0 $97 v-1
$14 $94 v1 v-1 v1 $106 v1 v0 v-1 v0
$93 $105 v-1 $219 v0 v0 v-1 v1 $225 v1
v0 $160 v1 v1 $348 $120 $240 $392 $280 $172
$305 $455 $140 v-1 $455 v0 v-1 v0 v1 $410
0 0 0
</code></pre><pre><code class="language-output1">
430
</code></pre>
<h2>Hint</h2>
令$k_1^{10}=100，k_2^{10}=1000$，则第$i$个点中$n=k_1^i，m=k_2^i$。其余按题目描述中所述。
<h2>Source</h2>
动态规划