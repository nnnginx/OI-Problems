## 题目背景
……羽毛

从天而降的羽毛

如雪一般的纯白，

在海风中摇曳，

在凉风中舞动，

仿佛要将谁的心带走一样――神仙的羽毛。

……

“求求你”

谁这样说到

“求求你了”

“救救我们”

……梦

我知道的，这是一场梦

随即，那个人又说话了，在我这纯白的梦里

“我们会一直在这里等着的……”

于是，我踏上了漫长的旅途

我有着非去不可的地方

为了实现那个人的愿望

所以我想，如果……

如果，我的愿望能够实现的话。

那样的话，或许，我和你……
 
![](https://cdn.luogu.com.cn/upload/pic/13166.png) 

……世界终结了

已经终结了

我没赶上，不管什么，所有的事情……

……可憎

不可原谅

我……

……我、绝对、不会原谅你

现在、就出发……

我一定……一定要，把你……！

![](https://cdn.luogu.com.cn/upload/pic/13167.png) 

手……牵着手，就能连着心

……我的左手，没有牵着任何人的，我的手

 ![](https://cdn.luogu.com.cn/upload/image_hosting/of3qws6f.png)

实现愿望。

只留下这个事实，然后我们两人就会分别。

就是希望着这一点，我们才会两个人一起走到今天。

是这样吧？

![](https://cdn.luogu.com.cn/upload/pic/13168.png) 

来，出发吧，去选择那独一无二的明天

![](https://cdn.luogu.com.cn/upload/pic/13169.png)


## 题目描述
二阶堂真红给了你一个长为 $n$ 的序列 $a$，有 $m$ 次操作

1. 把区间 $[l,r]$ 中大于 $x$ 的数减去 $x$。
2. 查询区间 $[l,r]$ 中 $x$ 的出现次数。


## 输入格式
第一行两个整数 $n,m$。

第二行 $n$ 个整数表示序列 $a$。

接下来 $m$ 行，每行四个整数：

- `1 l r x`：把区间 $[l,r]$ 所有大于 $x$ 的数减去 $x$。
- `2 l r x`：查询区间 $[l,r]$ 内的 $x$ 的出现次数。


## 输出格式
对于每个询问，输出一个整数表示答案。


```input1
5 6
1 5 5 5 8
2 2 5 5
1 2 4 3
2 2 5 2
2 2 5 5
1 3 5 1
2 1 5 1
```

```output1
3
3
0
3
```

## 提示
Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477

对于 $100\%$ 的数据，$1\le n\le 10^6$，$1\le m\le 5\times 10^5$，$1\le l\le r \le n$，$0 \le a_i,x \le 10^5+1$。

By nzhtl1477


